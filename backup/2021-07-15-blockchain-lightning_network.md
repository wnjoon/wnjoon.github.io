---
layout: post
title:  "라이트닝 네트워크(Lightning Network)" 
excerpt: "라이트닝 네트워크(lightning network)는 메인 체인의 블록 크기는 그대로 고정하되 블록체인 외부 네트워크를 활용하여 블록에 입력되는 거래 내역을 줄이는 방안이다. 오프체인은 기본적으로 라이트닝 네트워크 기반에서 동작한다."
date:   2021-07-15 15:00:00 +0900
categories: blockchain
tags: [offchain]
---

<br>

## 라이트닝 네트워크

라이트닝 네트워크(lightning network)는 메인 체인의 블록 크기는 그대로 고정하되 블록체인 외부 네트워크를 활용하여 블록에 입력되는 거래 내역을 줄이는 방안으로, 오프체인이 라이트닝 네트워크를 기반으로 한다고 보면 된다.

<br>

## 비트코인에서의 예시

비트코인을 예로 들어보자. 하나의 블록에 수많은 거래들이 들어갈 경우, 자연스럽게 블록의 크기는 증가할 것이고 이에 블록을 만들기 위한 수수료 또한 증가하여 사용자들의 부담은 높아질 것이다.  
이를 막기 위해 다음과 같은 단계를 거칠 수 있다.

1. 거래 당사자들 간 메인 체인 외 별도의 거래 채널을 연다.
2. 다수의 거래를 해당 채널을 통해 진행한다.
3. 거래가 충분히 진행되면 채널을 닫은 후 최종 결과 값만 블록체인에 기록한다.

결국 수많은 거래가 있더라도 블록체인에는 단 두번의 거래(시작과 끝)만 작성되기 때문에, 수수료를 대폭 절감할 수 있게 된다. 물론 별도의 채널에서 이루어지는 거래는 암호화되어 당사자 외 누구도 거래 내용을 확인할 수 없다.

<br>

## 특징

- 일정 시간이 지나도 거래 내용이 블록체인에 저장되지 않는 경우가 생길 수 있다. 이 경우 해당되는 모든 거래는 무효화되며 거래되던 데이터는 다시 원상복구된다.
- 만약 거래가 한번만 존재한다면, 별도의 채널을 구성하고 이를 처리하는 과정에 수수료가 더 많이 들어갈 수도 있다. 그렇지만 이러한 경우는 거의 없다고 보아야 하며, 비트코인의 경우 현재 수많은 거래들이 라이트닝 네트워크 기반으로 진행된 후 최종적인 결과 값이 블록에 작성되고 있다. 이러한 오프체인 트랜잭션들은 채굴자의 검증과정을 요구하지 않기 때문에, 수수료가 없고 거래가 즉시 진행되므로 소액결제와 같은 부분에 이점을 갖게 된다.